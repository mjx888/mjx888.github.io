<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><meta name="generator" content="MATLAB 2021b"><title>demo01 of printMsh</title><style type="text/css">.rtcContent { padding: 30px; } .S0 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 28.8px; min-height: 0px; white-space: pre-wrap; color: rgb(213, 80, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 24px; font-weight: 400; text-align: left;  }
.S1 { margin: 2px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S2 { margin-bottom: 20px; padding-bottom: 4px;  }
.S3 { margin: 0px; padding: 10px 0px 10px 5px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 700; text-align: start;  }
.S4 { margin: -1px 0px 0px; padding: 10px 0px 10px 7px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: start;  }
.S5 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 20px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 20px; font-weight: 700; text-align: left;  }
.S6 { margin: 10px 0px 20px; padding-left: 0px; font-family: Helvetica, Arial, sans-serif; font-size: 14px;  }
.S7 { margin-left: 56px; line-height: 21px; min-height: 0px; text-align: left; white-space: pre-wrap;  }
.CodeBlock { background-color: #F7F7F7; margin: 10px 0 10px 0;}
.S8 { border-left: 0.991735px solid rgb(233, 233, 233); border-right: 0.991735px solid rgb(233, 233, 233); border-top: 0.991735px solid rgb(233, 233, 233); border-bottom: 0.991735px solid rgb(233, 233, 233); border-radius: 4px; padding: 6px 45px 4px 13px; line-height: 17.234px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }</style></head><body><div class = rtcContent><h1  class = 'S0' id = 'T_104CDCDC' ><span style=' font-weight: bold;'>demo01 of printMsh</span></h1><div  class = 'S1'><span style=' font-weight: bold;'>Inputs of function printMsh</span></div><div  class = 'S1'><span>Jiexian Ma, mjx0799@gmail.com. </span><a href = "https://github.com/mjx888/im2mesh"><span>Project website</span></a><span>.</span></div><div  class = 'S2'><div  class = 'S3'><span style=' font-weight: bold;'>Table of Contents</span></div><div  class = 'S4'><a href = "#H_A19009E6"><span>Overview
</span></a><a href = "#H_CC6A6A8A"><span>Inputs of printMsh
</span></a><a href = "#H_210FD160"><span>Cite as</span></a></div></div><h2  class = 'S5' id = 'H_A19009E6' ><span>Overview</span></h2><div  class = 'S1'><span>Function printMsh is a sub-project of </span><span style=' font-weight: bold;'>Im2mesh package</span><span>. Function printMsh is used to write finite element mesh into msh file. msh file is Gmsh mesh file format.</span></div><div  class = 'S1'><span>Function printMsh currently only supports 2D triangular mesh with linear elements. Function printMsh can be modified to suport quadratic element. If you prefer quadratic element, feel free to send me a brief email to let me know.</span></div><div  class = 'S1'><span>Function printMsh is created in MATLAB R2021b. It should also work in versions earlier than R2021b. I have tested the msh file generatedd by function printMsh in Gmsh 4.13.1. I didn't see any errors.</span></div><div  class = 'S1'><span>The msh file generatedd by function printMsh is MSH file format version 4.1. Plese refer to the manual of Gmsh about the details: </span><a href = "https://gmsh.info/doc/texinfo/gmsh.html#MSH-file-format"><span>https://gmsh.info/doc/texinfo/gmsh.html#MSH-file-format</span></a></div><div  class = 'S1'><span>If you prefer older MSH file format, such as version 1 or 2, you may save it as version 1 or 2 via Gmsh.</span></div><h2  class = 'S5' id = 'H_CC6A6A8A' ><span>Inputs of printMsh</span></h2><div  class = 'S1'><span>Function printMsh has 6 input parameters. The last parameter </span><span style=' font-weight: bold;'>path_file_name</span><span> is omissible. When  parameter </span><span style=' font-weight: bold;'>path_file_name</span><span> is omitted, the file name will be 'test.msh'.</span></div><div  class = 'S1'><span>Typical usage:</span></div><div  class = 'S1'><span>            printMsh( vert, tria, [ ], [ ], precision_nodecoor );</span></div><div  class = 'S1'><span>            printMsh( vert, tria, tnum, [ ], precision_nodecoor );</span></div><div  class = 'S1'><span>            printMsh( vert, tria, tnum, conn, precision_nodecoor );</span></div><div  class = 'S1'><span>            printMsh( vert, tria, tnum, conn, precision_nodecoor, path_file_name );</span></div><div  class = 'S1'><span>The meaning of inputs are as follows.</span></div><ul  class = 'S6'><li  class = 'S7'><span style=' font-weight: bold;'>vert</span><span>: Mesh nodes (for linear element). It’s a Nn-by-2 matrix, where Nn is the number of nodes in the mesh. Each row of vert contains the x, y coordinates for that mesh node.</span></li><li  class = 'S7'><span style=' font-weight: bold;'>tria</span><span>: Mesh elements (for linear element). For triangular elements, it s a Ne-by-3 matrix, where Ne is the number of elements in the mesh. Each row in eleL contains the indices of the nodes for that mesh element.</span></li><li  class = 'S7'><span style=' font-weight: bold;'>tnum</span><span>: Label of phase, which corresponds to physical surface tag in Gmsh. tnum is a Ne-by-1 array, where Ne is the number of elements. tnum(j,1) = k; means the j-th element belongs to the k-th phase.</span></li><li  class = 'S7'><span style=' font-weight: bold;'>conn</span><span>: C-by-2 array of constraining edges, where each row defines an edge</span></li><li  class = 'S7'><span style=' font-weight: bold;'>precision_nodecoor</span><span>: number of digits to the right of the decimal point when writing node coordinates.</span></li><li  class = 'S7'><span style=' font-weight: bold;'>path_file_name</span><span>: file name of msh file, such as 'aaa.msh', 'D:\aaa.msh'. </span></li></ul><div  class = 'S1'><span>If your mesh has single part or single phase, you can set </span><span style=' font-weight: bold;'>tnum</span><span> as an empty array.</span></div><div  class = 'S1'><span>If your mesh has multiple part or multiple phase, you can use </span><span style=' font-weight: bold;'>tnum</span><span> for labelling. </span><span style=' font-weight: bold;'>tnum</span><span> corresponds to physical surface tag in Gmsh.</span></div><div  class = 'S1'><span>If you don't know what is </span><span style=' font-weight: bold;'>conn</span><span>, just set </span><span style=' font-weight: bold;'>conn </span><span>as an empty array, which will not affect the generated msh file. When </span><span style=' font-weight: bold;'>conn </span><span>is an empty array, function printMsh will do computation to obatin the missing </span><span style=' font-weight: bold;'>conn </span><span>parameter.</span></div><h2  class = 'S5' id = 'H_210FD160' ><span>Cite as</span></h2><div  class = 'S1'><span>The development of function printMsh is nontrivial. If you use function printMsh for your project, please cite as follows:</span></div><div  class = 'S1'><span>Ma, J., &amp; Li, Y. (2025). Im2mesh: A MATLAB/Octave package for generating finite element mesh based on 2D multi-phase image (2.1.5). Zenodo. </span><a href = "https://doi.org/10.5281/zenodo.14847059"><span>https://doi.org/10.5281/zenodo.14847059</span></a></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S8'><span style="white-space: pre"><span style="color: rgb(2, 128, 9);">% end of demo</span></span></div></div></div>
<br>
<!-- 
##### SOURCE BEGIN #####
%% *demo01 of printMsh*
% *Inputs of function printMsh*
% 
% Jiexian Ma, mjx0799@gmail.com. <https://github.com/mjx888/im2mesh Project 
% website>.
%% Overview
% Function printMsh is a sub-project of *Im2mesh package*. Function printMsh 
% is used to write finite element mesh into msh file. msh file is Gmsh mesh file 
% format.
% 
% Function printMsh currently only supports 2D triangular mesh with linear elements. 
% Function printMsh can be modified to suport quadratic element. If you prefer 
% quadratic element, feel free to send me a brief email to let me know.
% 
% Function printMsh is created in MATLAB R2021b. It should also work in versions 
% earlier than R2021b. I have tested the msh file generatedd by function printMsh 
% in Gmsh 4.13.1. I didn't see any errors.
% 
% The msh file generatedd by function printMsh is MSH file format version 4.1. 
% Plese refer to the manual of Gmsh about the details: <https://gmsh.info/doc/texinfo/gmsh.html#MSH-file-format 
% https://gmsh.info/doc/texinfo/gmsh.html#MSH-file-format>
% 
% If you prefer older MSH file format, such as version 1 or 2, you may save 
% it as version 1 or 2 via Gmsh.
%% Inputs of printMsh
% Function printMsh has 6 input parameters. The last parameter *path_file_name* 
% is omissible. When  parameter *path_file_name* is omitted, the file name will 
% be 'test.msh'.
% 
% Typical usage:
% 
% printMsh( vert, tria, [ ], [ ], precision_nodecoor );
% 
% printMsh( vert, tria, tnum, [ ], precision_nodecoor );
% 
% printMsh( vert, tria, tnum, conn, precision_nodecoor );
% 
% printMsh( vert, tria, tnum, conn, precision_nodecoor, path_file_name );
% 
% The meaning of inputs are as follows.
%% 
% * *vert*: Mesh nodes (for linear element). It’s a Nn-by-2 matrix, where Nn 
% is the number of nodes in the mesh. Each row of vert contains the x, y coordinates 
% for that mesh node.
% * *tria*: Mesh elements (for linear element). For triangular elements, it 
% s a Ne-by-3 matrix, where Ne is the number of elements in the mesh. Each row 
% in eleL contains the indices of the nodes for that mesh element.
% * *tnum*: Label of phase, which corresponds to physical surface tag in Gmsh. 
% tnum is a Ne-by-1 array, where Ne is the number of elements. tnum(j,1) = k; 
% means the j-th element belongs to the k-th phase.
% * *conn*: C-by-2 array of constraining edges, where each row defines an edge
% * *precision_nodecoor*: number of digits to the right of the decimal point 
% when writing node coordinates.
% * *path_file_name*: file name of msh file, such as 'aaa.msh', 'D:\aaa.msh'. 
%% 
% If your mesh has single part or single phase, you can set *tnum* as an empty 
% array.
% 
% If your mesh has multiple part or multiple phase, you can use *tnum* for labelling. 
% *tnum* corresponds to physical surface tag in Gmsh.
% 
% If you don't know what is *conn*, just set *conn* as an empty array, which 
% will not affect the generated msh file. When *conn* is an empty array, function 
% printMsh will do computation to obatin the missing *conn* parameter.
%
%% Cite as
% The development of function printMsh is nontrivial. If you use function printMsh 
% for your project, please cite as follows:
% 
% Ma, J., & Li, Y. (2025). Im2mesh: A MATLAB/Octave package for generating finite 
% element mesh based on 2D multi-phase image (2.1.5). Zenodo. <https://doi.org/10.5281/zenodo.14847059 
% https://doi.org/10.5281/zenodo.14847059>

% end of demo
##### SOURCE END #####
-->
</div></body></html>